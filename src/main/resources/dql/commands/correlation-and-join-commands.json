{
  "append": {
    "name": "append",
    "description": "Appends a given list of records by the records returned by a sub-query.",
    "type": "correlation-and-join-commands",
    "syntax": [
      "append executionBlock"
    ],
    "parameters": [
      {
        "name": "executionBlock",
        "nameAllowed": false,
        "description": "The subquery to be appended to the result",
        "required": true,
        "type": [
          "subquery expression"
        ]
      }
    ]
  },
  "join": {
    "name": "join",
    "description": "Joins all records from the source and the sub-query as long as they fulfill the join condition.",
    "type": "correlation-and-join-commands",
    "syntax": [
      "join joinTable [, kind] , on: condition, … [, prefix] [, fields: { [field, …] }] [, executionOrder]"
    ],
    "parameters": [
      {
        "name": "joinTable",
        "nameAllowed": false,
        "description": "The subquery to be appended to the result",
        "required": true,
        "type": [
          "subquery expression"
        ]
      },
      {
        "name": "kind",
        "description": "Specifies the join kind. The default is inner. Possible options are inner, outer and leftOuter.",
        "required": false,
        "constant": true,
        "type": [
          "enum"
        ],
        "disallows": [],
        "defaultValue": "inner",
        "enumValues": [
          "inner",
          "outer",
          "leftOuter"
        ]
      },
      {
        "name": "on",
        "description": "The join condition.",
        "required": true,
        "type": [
          "identifier",
          "boolean",
          "list of expressions",
          "join condition"
        ],
        "disallows": []
      },
      {
        "name": "prefix",
        "description": "The prefix to add to the joined fields. If not specified, the default prefix is right.",
        "required": false,
        "constant": true,
        "defaultValue": "\"right.\"",
        "type": [
          "string"
        ],
        "disallows": []
      },
      {
        "name": "fields",
        "description": "A field from the subquery to add to the input.",
        "required": false,
        "type": [
          "array",
          "boolean",
          "counter",
          "double",
          "duration",
          "ip",
          "long",
          "record",
          "string",
          "timeframe",
          "timestamp",
          "list of expressions"
        ],
        "disallows": []
      },
      {
        "name": "executionOrder",
        "description": "Defines which side of the join will be executed first. The allowed values are auto, leftFirst, rightFirst. The default value is auto.",
        "required": false,
        "constant": true,
        "type": [
          "enum"
        ],
        "disallows": [],
        "defaultValue": "auto",
        "enumValues": [
          "auto",
          "leftFirst",
          "rightFirst"
        ]
      }
    ]
  },
  "joinNested": {
    "name": "joinNested",
    "description": "Adds matching results from the sub-query as an array of nested records.",
    "type": "correlation-and-join-commands",
    "syntax": [
      "joinNested alias = joinTable [, on: condition, …] [, fields: { [field, …] }] [, executionOrder:]"
    ],
    "parameters": [
      {
        "name": "executionBlock",
        "nameAllowed": false,
        "description": "The subquery to be appended to the result",
        "required": true,
        "type": [
          "named subquery expression"
        ]
      },
      {
        "name": "on",
        "description": "The join condition.",
        "required": true,
        "type": [
          "identifier",
          "boolean",
          "list of expressions",
          "join condition"
        ],
        "disallows": []
      },
      {
        "name": "fields",
        "description": "A field from the subquery to add to the input.",
        "required": false,
        "type": [
          "array",
          "boolean",
          "counter",
          "double",
          "duration",
          "ip",
          "long",
          "record",
          "string",
          "timeframe",
          "timestamp",
          "list of expressions"
        ],
        "disallows": []
      },
      {
        "name": "executionOrder",
        "description": "Defines which side of the join will be executed first. The allowed values are auto, leftFirst, rightFirst. The default value is auto.",
        "required": false,
        "constant": true,
        "type": [
          "enum"
        ],
        "disallows": [],
        "defaultValue": "auto",
        "enumValues": [
          "auto",
          "leftFirst",
          "rightFirst"
        ]
      }
    ]
  },
  "lookup": {
    "name": "lookup",
    "description": "Adds fields from a subquery to the source table by finding a match between a field in the source table and the lookup table.",
    "type": "correlation-and-join-commands",
    "syntax": [
      "lookup lookupTable [, sourceField] [, lookupField] [, prefix] [, fields: { [field, …] }] [, executionOrder]"
    ],
    "parameters": [
      {
        "name": "lookupTable",
        "nameAllowed": false,
        "description": "The subquery to be appended to the result",
        "required": true,
        "type": [
          "subquery expression"
        ]
      },
      {
        "name": "sourceField",
        "description": "The matching field on the source table (left side).",
        "required": false,
        "type": [
          "identifier"
        ],
        "disallows": []
      },
      {
        "name": "lookupField",
        "description": "The matching field on the lookup table (right side).",
        "required": true,
        "type": [
          "identifier"
        ],
        "disallows": []
      },
      {
        "name": "prefix",
        "description": "The prefix to add to the joined fields. If not specified, the default prefix is 'lookup'.",
        "required": false,
        "constant": true,
        "defaultValue": "\"right.\"",
        "type": [
          "string"
        ],
        "disallows": []
      },
      {
        "name": "fields",
        "description": "A field from the subquery to add to the input.",
        "required": false,
        "type": [
          "array",
          "boolean",
          "counter",
          "double",
          "duration",
          "ip",
          "long",
          "record",
          "string",
          "timeframe",
          "timestamp",
          "list of expressions"
        ],
        "disallows": []
      },
      {
        "name": "executionOrder",
        "description": "Defines which side of the join will be executed first. The allowed values are auto, leftFirst, rightFirst. The default value is auto.",
        "required": false,
        "constant": true,
        "type": [
          "enum"
        ],
        "disallows": [],
        "defaultValue": "auto",
        "enumValues": [
          "auto",
          "leftFirst",
          "rightFirst"
        ]
      }
    ]
  }
}